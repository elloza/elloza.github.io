<!DOCTYPE html>
<html lang="en-us">
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="theme" content="hugo-academic">
  <meta name="generator" content="Hugo 0.31.1" />
  <meta name="author" content="Álvaro Lozano Murciego">
  <meta name="description" content="PhD Student Computer Science">

  
  <link rel="alternate" hreflang="en-us" href="https://elloza.com/2018/03/a-crappy-3g-smart-plug-solution/">

  
  


  

  
  
  
  
    
  
  
    
    
      
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
      
    
  
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha512-6MXa8B6uaO18Hid6blRMetEIoPqHf7Ux1tnyIQdpt9qI5OACx7C+O3IVTr98vwGnlcg0LOLa02i9Y1HpVhlfiw==" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.1/css/academicons.min.css" integrity="sha512-NThgw3XKQ1absAahW6to7Ey42uycrVvfNfyjqcFNgCmOCQ5AR4AO0SiXrN+8ZtYeappp56lk1WtvjVmEa+VR6A==" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha512-SfTiTlX6kk+qitfevl/7LibUOeJWlt9rbyDn92a1DqWOw9vWG2MFoays0sgObmWazO5BQPiFucnnEAjpAB+/Sw==" crossorigin="anonymous">
  
  
  
  
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Montserrat:400,700%7cRoboto:400,400italic,700%7cRoboto&#43;Mono">
  
  <link rel="stylesheet" href="/styles.css">
  

  

  
  <link rel="alternate" href="https://elloza.com/index.xml" type="application/rss+xml" title="Álvaro Lozano Murciego">
  <link rel="feed" href="https://elloza.com/index.xml" type="application/rss+xml" title="Álvaro Lozano Murciego">
  

  <link rel="manifest" href="/site.webmanifest">
  <link rel="icon" type="image/png" href="/img/icon.png">
  <link rel="apple-touch-icon" type="image/png" href="/img/icon-192.png">

  <link rel="canonical" href="https://elloza.com/2018/03/a-crappy-3g-smart-plug-solution/">

  <meta property="twitter:card" content="summary_large_image">
  
  <meta property="twitter:site" content="@_lozanillo_">
  <meta property="twitter:creator" content="@_lozanillo_">
  
  <meta property="og:site_name" content="Álvaro Lozano Murciego">
  <meta property="og:url" content="https://elloza.com/2018/03/a-crappy-3g-smart-plug-solution/">
  <meta property="og:title" content="A crappy 3G Smart Plug solution | Álvaro Lozano Murciego">
  <meta property="og:description" content=""><meta property="og:image" content="https://elloza.com/img/smartplugs/SmartPlug.png">
  <meta property="og:locale" content="en-us">
  
  <meta property="article:published_time" content="2018-03-02T00:00:00&#43;01:00">
  
  <meta property="article:modified_time" content="2018-09-03T00:00:00&#43;02:00">
  

  

  <title>A crappy 3G Smart Plug solution | Álvaro Lozano Murciego</title>

</head>
<body id="top" data-spy="scroll" data-target="#toc" data-offset="71" >

<nav class="navbar navbar-default navbar-fixed-top" id="navbar-main">
  <div class="container">

    
    <div class="navbar-header">
      
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
              data-target=".navbar-collapse" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      
      <a class="navbar-brand" href="/">Álvaro Lozano Murciego</a>
    </div>

    
    <div class="collapse navbar-collapse">

      
      
      <ul class="nav navbar-nav navbar-right">
        

        

        
          
        

        <li class="nav-item">
          <a href="/#about">
            
            <span>Home</span>
            
          </a>
        </li>

        
        

        

        
          
        

        <li class="nav-item">
          <a href="/#posts">
            
            <span>Posts</span>
            
          </a>
        </li>

        
        

        

        
          
        

        <li class="nav-item">
          <a href="/#projects">
            
            <span>Projects</span>
            
          </a>
        </li>

        
        

        

        
          
        

        <li class="nav-item">
          <a href="/#teaching">
            
            <span>Teaching</span>
            
          </a>
        </li>

        
        

        

        
          
        

        <li class="nav-item">
          <a href="/#contact">
            
            <span>Contact</span>
            
          </a>
        </li>

        
        
      

      
      </ul>

    </div>
  </div>
</nav>


<article class="article" itemscope itemtype="http://schema.org/Article">

  
<div class="article-header">
  <img src="/img/smartplugs/SmartPlug.png" class="article-banner" itemprop="image">
  <span class="article-header-caption">Crappy 3G Smart Plug</span>
</div>



  <div class="article-container">
    <div class="article-inner">
      <h1 itemprop="name">A crappy 3G Smart Plug solution</h1>

      

<div class="article-metadata">

  <span class="article-date">
    
        Last updated on
    
    <time datetime="2018-03-02 00:00:00 &#43;0100 CET" itemprop="datePublished">
      Sep 3, 2018
    </time>
  </span>

  
  <span class="middot-divider"></span>
  <span class="article-reading-time">
    3 min read
  </span>
  

  
  
  <span class="middot-divider"></span>
  <a href="https://elloza.com/2018/03/a-crappy-3g-smart-plug-solution/#disqus_thread"></a>
  

  

  
  
<div class="share-box" aria-hidden="true">
  <ul class="share">
    <li>
      <a class="twitter"
         href="https://twitter.com/intent/tweet?text=A%20crappy%203G%20Smart%20Plug%20solution&amp;url=https%3a%2f%2felloza.com%2f2018%2f03%2fa-crappy-3g-smart-plug-solution%2f"
         target="_blank" rel="noopener">
        <i class="fa fa-twitter"></i>
      </a>
    </li>
    <li>
      <a class="facebook"
         href="https://www.facebook.com/sharer.php?u=https%3a%2f%2felloza.com%2f2018%2f03%2fa-crappy-3g-smart-plug-solution%2f"
         target="_blank" rel="noopener">
        <i class="fa fa-facebook"></i>
      </a>
    </li>
    <li>
      <a class="linkedin"
         href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2felloza.com%2f2018%2f03%2fa-crappy-3g-smart-plug-solution%2f&amp;title=A%20crappy%203G%20Smart%20Plug%20solution"
         target="_blank" rel="noopener">
        <i class="fa fa-linkedin"></i>
      </a>
    </li>
    <li>
      <a class="weibo"
         href="http://service.weibo.com/share/share.php?url=https%3a%2f%2felloza.com%2f2018%2f03%2fa-crappy-3g-smart-plug-solution%2f&amp;title=A%20crappy%203G%20Smart%20Plug%20solution"
         target="_blank" rel="noopener">
        <i class="fa fa-weibo"></i>
      </a>
    </li>
    <li>
      <a class="email"
         href="mailto:?subject=A%20crappy%203G%20Smart%20Plug%20solution&amp;body=https%3a%2f%2felloza.com%2f2018%2f03%2fa-crappy-3g-smart-plug-solution%2f">
        <i class="fa fa-envelope"></i>
      </a>
    </li>
  </ul>
</div>


  

</div>


      <div class="article-style" itemprop="articleBody">
        <p>Today I want to talk about a kind of device which is increasingly present in more and more households around the world: The Smart Plug (or Smart Socket).</p>

<p><img src="/img/smartplugs/power-plug.jpg" alt="SmartPlug" /></p>

<p>Their main goals are commonly:</p>

<ul>
<li><p><strong>Act as a relay</strong>: turning off or on the socket where it is plugged. This could be performed in real time or scheduled by the user.</p></li>

<li><p><strong>Monitoring and measure values of power consumption</strong>: voltage, etc. of the appliances plugged to it. This enable a lot of services related with analyzing appliance consumption: demand response and a large etc.</p></li>
</ul>

<p>In <a href="https://bisite.usal.es/es" target="_blank">BISITE</a> we were working with this kind of devices with the company <a href="https://www.vps.energy/pt" target="_blank">VPS</a> and their product <a href="https://www.cloogy.pt/" target="_blank">Cloogy</a>. We were developing classifiers aimed to identify the appliance connected to this device employing the power consumption fingerprint of each appliance. Nowadays, we are working in other interesting application with this devices but I will discuss deeply in other separate post.</p>

<p>These devices need a connection to internet to communicate with their company server. This communication enables monitoring the device and performing actions on it by the final user, normally via a mobile or a web app. The main scheme of this kind of devices is the following:</p>

<p><img src="/img/smartplugs/flowchart.png" alt="Flowchart" /></p>

<p>Some of them use Zigbee or similar technologies for sending the information to an intermediate device called gateway which communicates through an internet connection (WiFi, Ethernet, whatever.). On the other hand, there are some smart plugs which communicates with directly the information via WiFi.
The problem arises when you don’t have a WiFi internet connection because you plan install this device in a very far remote location. The keyword 3G/4G comes to your mind and you will search this kind of solutions including a slot for a 3G SIM card. Sadly the most of options that I found in Internet are very expensive and they are totally in other range of prices that the common smart plugs.
So, let’s go, we will try to solve this problem with “a crappy but maybe no so crappy“ (<a href="https://twitter.com/EIGabri" target="_blank">@EIGabri</a> sentence) solution. We will need the following materials:</p>

<ul>
<li><strong>A WiFi Smart Plug:</strong> I have selected <a href="https://es.aliexpress.com/store/product/Original-Xiaomi-Smart-Socket-WiFi-APP-Wireless-Control-Switches-EU-US-AU-Timer-Plug-Charger-for/2185008_32714912463.html?spm=a219c.search0204.3.23.377a69ceICC542&amp;ws_ab_test=searchweb0_0,searchweb201602_3_10152_10151_10065_10344_10068_10342_10547_10343_10340_10548_10341_10696_10084_10083_10618_10307_10301_10303_5711215_10313_10059_10184_10534_100031_10103_10624_10623_10622_5711315_10621_10620_5722415,searchweb201603_1,ppcSwitch_5_ppcChannel&amp;algo_expid=5ce868dc-1553-4ea6-af17-6a93a0788361-3&amp;algo_pvid=5ce868dc-1553-4ea6-af17-6a93a0788361&amp;priceBeautifyAB=0" target="_blank">this</a> from Xiaomi. There is <a href="https://es.aliexpress.com/store/product/2018-xiaomi-mijia-Smart-dual-USB-enchufe-WiFi-mejorada-control-temporizador-Abrigos-de-plumas-funci-n/907082_32856532067.html?spm=a219c.search0204.3.21.40014ca0qUstkH&amp;ws_ab_test=searchweb0_0%2Csearchweb201602_3_10152_10151_10065_10344_10068_10342_10547_10343_10340_10548_10341_10696_10084_10083_10618_10307_10301_10303_5711215_10313_10059_10184_10534_100031_10103_10624_10623_10622_5711315_10621_10620_5722415%2Csearchweb201603_1%2CppcSwitch_5_ppcChannel&amp;algo_expid=541dd396-dc87-4d95-a6a7-8fcc9d1b1306-3&amp;algo_pvid=541dd396-dc87-4d95-a6a7-8fcc9d1b1306&amp;priceBeautifyAB=0" target="_blank">other</a> with USB that could be useful for the 3G Dongle (and dangerous if you disable it).</li>
<li><strong>A 3G dongle USB:</strong> I have selected the cheapest from Alliexpress: <a href="https://es.aliexpress.com/item/New-Usb-Wireless-Router-Mini-Portable-Wi-fi-Mobile-Device-Hotspot-Mifi-Dongle-Modem-Unlocked-With/32436246487.html?spm=a2g0s.9042311.0.0.Lu7ZaA" target="_blank">this</a></li>
<li><strong>A USB charger</strong> (if you use the first smart plug)</li>
<li><del><strong>A Freedompop SIM with free plan</strong>: check it in their website. 200 MB/month free</del> <strong>A 3G SIM with data plan</strong></li>
</ul>

<p>With these materials you probably guess what is the plan. We will use the dongle as WiFi router and we will connect the smart plug to that network. Now, we have a simple and cheap (less than 30 euros) smart plug which we can enable and disable from any part of the world.
Maybe a smart plug with a USB port could be a better option (more compact) but in some cases maybe you prefer the flexibility of having the router in some place and the smart plug in other place, it depends of the use case.
I have only evaluated the data consumption and it is insignificant. Conversely, I don’t have evaluate the power consumption of the two devices <sup>24</sup>&frasl;<sub>7</sub>, but I guess that It does not be so much.
I promise that the next post will be more technical!!</p>

<p>See you soon fideos.</p>

      </div>

      


<div class="article-tags">
  
  <a class="btn btn-primary btn-outline" href="/tags/smart-plug">Smart Plug</a>
  
  <a class="btn btn-primary btn-outline" href="/tags/iot">IoT</a>
  
  <a class="btn btn-primary btn-outline" href="/tags/smart-home">Smart Home</a>
  
</div>



    </div>
  </div>

</article>






<div class="article-container">
  <div id="disqus_thread"></div>
<script>
(function() {
var d = document, s = d.createElement('script');
s.src = 'https://elloza.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

</div>

<footer class="site-footer">
  <div class="container">
    <p class="powered-by">

      &copy; 2018 Álvaro Lozano Murciego &middot; 

      Powered by the
      <a href="https://sourcethemes.com/academic/" target="_blank" rel="noopener">Academic theme</a> for
      <a href="https://gohugo.io" target="_blank" rel="noopener">Hugo</a>.

      <span class="pull-right" aria-hidden="true">
        <a href="#" id="back_to_top">
          <span class="button_icon">
            <i class="fa fa-chevron-up fa-2x"></i>
          </span>
        </a>
      </span>

    </p>
  </div>
</footer>


<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close btn-large" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Cite</h4>
      </div>
      <div>
        <pre><code class="modal-body tex"></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-primary btn-outline js-copy-cite" href="#" target="_blank">
          <i class="fa fa-copy"></i> Copy
        </a>
        <a class="btn btn-primary btn-outline js-download-cite" href="#" target="_blank">
          <i class="fa fa-download"></i> Download
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>

    

    
    
    <script id="dsq-count-scr" src="//elloza.disqus.com/count.js" async></script>
    

    

    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js" integrity="sha512-3P8rXCuGJdNZOnUx/03c1jOTnMn3rP63nBip5gOP2qmUh5YAdVAvFZ1E+QLZZbC1rtMrQb+mah3AfYW11RUrWA==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.3/imagesloaded.pkgd.min.js" integrity="sha512-umsR78NN0D23AzgoZ11K7raBD+R6hqKojyBZs1w8WvYlsI+QuKRGBx3LFCwhatzBunCjDuJpDHwxD13sLMbpRA==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha512-iztkobsvnjKfAtTNdHkGVjAYTrrtlC7mGp/54c40wowO7LhURYl3gVzzcEqGl/qKXQltJ2HwMrdLcNUdo+N/RQ==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.4/isotope.pkgd.min.js" integrity="sha512-VDBOIlDbuC4VWxGJNmuFRQ0Li0SKkDpmGyuhAG5LTDLd/dJ/S0WMVxriR2Y+CyPL5gzjpN4f/6iqWVBJlht0tQ==" crossorigin="anonymous"></script>
    
    
    <script src="/js/hugo-academic.js"></script>
    

    
    
      
      
      <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js" integrity="sha256-/BfiIkHlHoVihZdc6TFuj7MmJ0TWcWsMXkeDFwhi0zw=" crossorigin="anonymous"></script>
      

      

      

      <script>hljs.initHighlightingOnLoad();</script>
    

    
    
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({ tex2jax: { inlineMath: [['$','$'], ['\\(','\\)']] } });
    </script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS_CHTML" integrity="sha512-tOav5w1OjvsSJzePRtt2uQPFwBoHt1VZcUq8l8nm5284LEKE9FSJBQryzMBzHxY5P0zRdNqEcpLIRVYFNgu1jw==" crossorigin="anonymous"></script>
    
    

  </body>
</html>

